# NEP-002: Zero-Knowledge Shielded Pool & Proof of Velocity (ZK-PoV)

**Author:** mavtek76  
**Status:** Draft  
**Modules:** `x/zkbank`, `x/velocity`  
**Dependencies:** Cosmos SDK, IBC (Inter-Blockchain Communication), Penumbra/Sapling ZK Architecture



## 1. Abstract
This specification replaces the default, transparent Cosmos SDK `x/bank` module with a Zero-Knowledge Shielded Pool (`x/zkbank`). Furthermore, it disables the default `x/mint` module, replacing it with `x/velocity`. Together, these modules create a private economic ledger where new UNITT supply is dynamically minted based on cryptographically verified human transaction volume (Velocity), capped by the Epoch Identity Ceiling ($V_{max}$).

## 2. Rationale
A public blockchain ledger creates a permanent surveillance state, rendering the network highly vulnerable to Level 2 Coercion (targeted asset seizure, taxation, and financial censorship). To satisfy the Tri-Axiom Engine, the network must enforce absolute financial opacity. 

Simultaneously, traditional tokenomics rely on Proof-of-Stake (rewarding capital with more capital), which inevitably leads to oligarchy. Nomos implements Proof of Velocity (PoV) to reward human economic interaction, utilizing a mathematical ceiling to neutralize whale manipulation.

## 3. Architecture: The Shielded Pool (`x/zkbank`)
The `x/zkbank` module operates as a multi-asset shielded pool, recording values confidentially.



### 3.1 State Encryption (Notes & Nullifiers)
* **Notes:** Balances are not stored as public integers. Instead, assets are held as encrypted "Notes" containing the denomination, value, and a viewing key.
* **State Tree:** The global state is a public Merkle tree of Note commitments.
* **Spending:** To spend a Note, the user's local client generates a ZK-SNARK proving ownership of the Note and generates a "Nullifier." The network records the Nullifier to prevent double-spending without ever decrypting the Note's contents.

### 3.2 Private Transfers
When Wallet A sends UNITT to Wallet B:
1. The client locally computes the ZK-SNARK proving that `Inputs - Outputs = 0`.
2. The network verifies the Groth16/PLONK circuit.
3. The Validator nodes update the encrypted state tree. The sender, receiver, and transaction amount remain 100% opaque to the network.

## 4. Architecture: Proof of Velocity (`x/velocity`)
Because the ledger is blind, the network relies on localized cryptographic receipts to calculate the daily mint.

### 4.1 The ZK-PoV Ping
During a valid `x/zkbank` transfer, if both the sender and receiver possess a valid `x/zkbio` Liveness Token for the current Epoch, the client generates an additional, separate ZK-SNARK: the **Velocity Receipt**.
* The receipt proves: *A bidirectional transfer of value occurred between two unique human nullifiers.*
* The receipt is broadcast to the `x/velocity` aggregator.

### 4.2 The Epoch Settlement & Identity Ceiling
At the end of each 24-hour Epoch, the `x/velocity` module calculates the UNITT distribution.
* **The Ceiling:** No single `x/zkbio` nullifier can accumulate a velocity score higher than $V_{max}$ (e.g., 500 pings per Epoch). This mathematically prevents capital-rich actors from spoofing high-frequency wash-trading to capture the mint.
* **The Distribution:** The daily emission is distributed proportionally based on each nullifier's capped velocity score relative to the total network's capped score. 
* **The Mint:** The newly minted UNITT is deposited directly into the shielded Notes of the participating wallets.
